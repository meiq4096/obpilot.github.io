<!DOCTYPE html>
<html lang="cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="SQw8_IUq7jRAGcByCN97Jk4AQ4otwO-p0ope0GrrsEU">
  <meta name="baidu-site-verification" content="code-hEsLjFpoY4">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"obpilot.github.io","root":"/","images":"/images","scheme":"Pisces","version":"8.7.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null,"activeClass":"livere"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="本文描述如何使用Alibaba开源的 DataX 产品在传统数据库（ORACLE\MYSQL\DB2等）和 分布式数据库 OB之间互相同步数据。">
<meta property="og:type" content="article">
<meta property="og:title" content="如何使用DataX在OB和传统数据库之间同步数据">
<meta property="og:url" content="https://obpilot.github.io/posts/2903/index.html">
<meta property="og:site_name" content="分布式数据库 OceanBase 技术分享">
<meta property="og:description" content="本文描述如何使用Alibaba开源的 DataX 产品在传统数据库（ORACLE\MYSQL\DB2等）和 分布式数据库 OB之间互相同步数据。">
<meta property="og:locale">
<meta property="article:published_time" content="2021-08-30T08:42:52.000Z">
<meta property="article:modified_time" content="2021-09-01T01:55:48.689Z">
<meta property="article:author" content="obpilot">
<meta property="article:tag" content="OCEANBASE">
<meta property="article:tag" content="DATAX">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://obpilot.github.io/posts/2903/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"cn","comments":true,"permalink":"https://obpilot.github.io/posts/2903/","path":"posts/2903/","title":"如何使用DataX在OB和传统数据库之间同步数据"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>如何使用DataX在OB和传统数据库之间同步数据 | 分布式数据库 OceanBase 技术分享</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/clicklove.js"></script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">分布式数据库 OceanBase 技术分享</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">分布式数据库 OceanBase 技术原理、开发运维实践分享</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
        <li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a></li>
        <li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#DataX-%E7%AE%80%E4%BB%8B%E4%BB%A5%E5%8F%8A%E4%B8%8B%E8%BD%BD%E7%BC%96%E8%AF%91"><span class="nav-number">1.</span> <span class="nav-text">DataX 简介以及下载编译</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#pom-xml"><span class="nav-number">1.1.</span> <span class="nav-text">pom.xml</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DataX-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A1%86%E6%9E%B6"><span class="nav-number">2.</span> <span class="nav-text">DataX 配置文件框架</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reader-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">3.</span> <span class="nav-text">reader 插件说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#txtfilereader-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">3.1.</span> <span class="nav-text">txtfilereader 插件说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysqlreader%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">3.2.</span> <span class="nav-text">mysqlreader插件说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#oraclereader-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">3.3.</span> <span class="nav-text">oraclereader 插件说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#oceanbasev10reader-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">3.4.</span> <span class="nav-text">oceanbasev10reader 插件说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-number">3.4.1.</span> <span class="nav-text">实现原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="nav-number">3.4.2.</span> <span class="nav-text">参数说明</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#writer-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">4.</span> <span class="nav-text">writer 插件说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#txtfilewriter-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">4.1.</span> <span class="nav-text">txtfilewriter 插件说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysqlwriter-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">4.2.</span> <span class="nav-text">mysqlwriter 插件说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#oraclewriter-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">4.3.</span> <span class="nav-text">oraclewriter 插件说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#oceanbasev10writer-%E6%8F%92%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="nav-number">4.4.</span> <span class="nav-text">oceanbasev10writer 插件说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86-1"><span class="nav-number">4.4.1.</span> <span class="nav-text">实现原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E-1"><span class="nav-number">4.4.2.</span> <span class="nav-text">参数说明</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DataX-%E7%9A%84%E8%B0%83%E4%BC%98%E5%BB%BA%E8%AE%AE"><span class="nav-number">5.</span> <span class="nav-text">DataX 的调优建议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E6%9C%BA%E8%B5%84%E6%BA%90%E7%9B%91%E6%8E%A7-tsar"><span class="nav-number">5.1.</span> <span class="nav-text">主机资源监控 tsar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E5%B9%B6%E8%A1%8C%E5%BA%A6"><span class="nav-number">5.2.</span> <span class="nav-text">读写并行度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90%E7%AB%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%BB%E4%BC%98%E5%8C%96"><span class="nav-number">5.3.</span> <span class="nav-text">源端数据库读优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OB%E5%86%99%E5%85%A5%E7%9A%84%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98"><span class="nav-number">5.4.</span> <span class="nav-text">OB写入的内存调优</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%99%84%E5%BD%95"><span class="nav-number">6.</span> <span class="nav-text">附录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B1-%EF%BC%9AMySQL-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E5%88%B0-CSV-%E6%96%87%E4%BB%B6"><span class="nav-number">6.1.</span> <span class="nav-text">示例1 ：MySQL 数据导出到 CSV 文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B2-CSV-%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5%E5%88%B0-OceanBase"><span class="nav-number">6.2.</span> <span class="nav-text">示例2:  CSV 文件导入到 OceanBase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B3%EF%BC%9AORACLE-%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%88%B0-CSV-%E6%96%87%E4%BB%B6"><span class="nav-number">6.3.</span> <span class="nav-text">示例3：ORACLE 数据同步到 CSV 文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B4%EF%BC%9AOB-%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%88%B0-MySQL"><span class="nav-number">6.4.</span> <span class="nav-text">示例4：OB 数据同步到 MySQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B5%EF%BC%9AOB-%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%88%B0-ORACLE"><span class="nav-number">6.5.</span> <span class="nav-text">示例5：OB 数据同步到 ORACLE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B6%EF%BC%9AORACLE-%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%88%B0-OB"><span class="nav-number">6.6.</span> <span class="nav-text">示例6：ORACLE 数据同步到 OB</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B7%EF%BC%9ADB2-%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%88%B0-OB"><span class="nav-number">6.7.</span> <span class="nav-text">示例7：DB2 数据同步到 OB</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">obpilot</p>
  <div class="site-description" itemprop="description">这里主要分享蚂蚁的分布式关系型数据库OceanBase的产品功能、技术原理、开发运维、案例实践经验等。欢迎喜欢分布式数据库技术的朋友跟我沟通交流和分享！</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">7</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/obpilot" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;obpilot" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:qing.meiq@gmail.com" title="E-Mail → mailto:qing.meiq@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/mq44944" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;mq44944" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



          </div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="Back to top">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/obpilot" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="cn">
    <link itemprop="mainEntityOfPage" href="https://obpilot.github.io/posts/2903/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="obpilot">
      <meta itemprop="description" content="这里主要分享蚂蚁的分布式关系型数据库OceanBase的产品功能、技术原理、开发运维、案例实践经验等。欢迎喜欢分布式数据库技术的朋友跟我沟通交流和分享！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="分布式数据库 OceanBase 技术分享">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          如何使用DataX在OB和传统数据库之间同步数据
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-08-30 16:42:52" itemprop="dateCreated datePublished" datetime="2021-08-30T16:42:52+08:00">2021-08-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-09-01 09:55:48" itemprop="dateModified" datetime="2021-09-01T09:55:48+08:00">2021-09-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/developer/" itemprop="url" rel="index"><span itemprop="name">开发</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>29k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>27 mins.</span>
    </span>
</div>

            <div class="post-description">本文描述如何使用Alibaba开源的 DataX 产品在传统数据库（ORACLE\MYSQL\DB2等）和 分布式数据库 OB之间互相同步数据。</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="DataX-简介以及下载编译"><a href="#DataX-简介以及下载编译" class="headerlink" title="DataX 简介以及下载编译"></a>DataX 简介以及下载编译</h2><p>DataX 是阿里云 DataWorks数据集成 的开源版本，在阿里巴巴集团内被广泛使用的离线数据同步工具/平台。DataX 实现了包括 MySQL、Oracle、SqlServer、Postgre、HDFS、Hive、ADS、HBase、TableStore(OTS)、MaxCompute(ODPS)、Hologres、DRDS 、<strong>OceanBase</strong> 等各种异构数据源之间高效的数据同步功能。</p>
<p>开源地址：<code>https://github.com/alibaba/datax</code> 。</p>
<p>OB 企业版客户，可以跟 OB 的技术人员索取 DataX 内部版本（RPM包）。 OB 社区版客户，可以在 DataX 开源网站上下载源码，自行编译。</p>
<span id="more"></span>
<p>编译的时候，注意在 <code>pom.xml</code> 中剔除掉不用的数据库插件。否则，编译出来的包非常大。</p>
<h3 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h3><p>Maven 配置文件：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>common<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>core<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>transformer<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- reader --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>mysqlreader<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>oraclereader<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>txtfilereader<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>streamreader<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>rdbmsreader<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>oceanbasev10reader<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- writer --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>mysqlwriter<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>txtfilewriter<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>streamwriter<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>oraclewriter<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>rdbmswriter<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>oceanbasev10writer<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- common support module --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>plugin-rdbms-util<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>plugin-unstructured-storage-util<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>kuduwriter<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>编译方法还是很简单的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mvn -U clean package assembly:assembly -Dmaven.test.skip=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Reactor Summary:</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] datax-all ......................................... SUCCESS [25.353s]</span><br><span class="line">[INFO] datax-common ...................................... SUCCESS [3.219s]</span><br><span class="line">[INFO] datax-transformer ................................. SUCCESS [1.655s]</span><br><span class="line">[INFO] datax-core ........................................ SUCCESS [5.078s]</span><br><span class="line">[INFO] plugin-rdbms-util ................................. SUCCESS [2.020s]</span><br><span class="line">[INFO] mysqlreader ....................................... SUCCESS [1.316s]</span><br><span class="line">[INFO] oraclereader ...................................... SUCCESS [1.250s]</span><br><span class="line">[INFO] plugin-unstructured-storage-util .................. SUCCESS [1.744s]</span><br><span class="line">[INFO] txtfilereader ..................................... SUCCESS [4.572s]</span><br><span class="line">[INFO] streamreader ...................................... SUCCESS [1.244s]</span><br><span class="line">[INFO] rdbmsreader ....................................... SUCCESS [1.367s]</span><br><span class="line">[INFO] oceanbasev10reader ................................ SUCCESS [1.836s]</span><br><span class="line">[INFO] mysqlwriter ....................................... SUCCESS [1.195s]</span><br><span class="line">[INFO] txtfilewriter ..................................... SUCCESS [3.923s]</span><br><span class="line">[INFO] streamwriter ...................................... SUCCESS [1.113s]</span><br><span class="line">[INFO] oraclewriter ...................................... SUCCESS [1.170s]</span><br><span class="line">[INFO] rdbmswriter ....................................... SUCCESS [1.534s]</span><br><span class="line">[INFO] oceanbasev10writer ................................ SUCCESS [2.150s]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 1:02.428s</span><br><span class="line">[INFO] Finished at: Wed Aug 25 11:25:29 CST 2021</span><br><span class="line">[INFO] Final Memory: 144M/5065M</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>编译好的目录，请把 <code>target</code> 目录下的 datax 复制到实际工作目录。</p>
<h2 id="DataX-配置文件框架"><a href="#DataX-配置文件框架" class="headerlink" title="DataX 配置文件框架"></a>DataX 配置文件框架</h2><p><strong>DataX 迁移数据以任务的形式，每个任务只处理一个表，每个任务有一个 <code>json</code> 格式的配置文件。配置文件里会包含 <code>reader</code> 和 <code>writer</code> 两节。具体的 <code>reader</code> 和 <code>writer</code> 都是 DataX 支持的数据库插件，可以随意搭配使用（就跟孩子搭积木一样）</strong>。</p>
<p>下面是配置文件示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;job&quot;: &#123;</span><br><span class="line">    &quot;content&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;reader&quot;: &#123;</span><br><span class="line">          &quot;name&quot;: &quot;streamreader&quot;,</span><br><span class="line">          &quot;parameter&quot;: &#123;</span><br><span class="line">            &quot;sliceRecordCount&quot;: 10,</span><br><span class="line">            &quot;column&quot;: [</span><br><span class="line">              &#123;</span><br><span class="line">                &quot;type&quot;: &quot;long&quot;,</span><br><span class="line">                &quot;value&quot;: &quot;10&quot;</span><br><span class="line">              &#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                &quot;type&quot;: &quot;string&quot;,</span><br><span class="line">                &quot;value&quot;: &quot;hello，你好，世界-DataX&quot;</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;writer&quot;: &#123;</span><br><span class="line">          &quot;name&quot;: &quot;streamwriter&quot;,</span><br><span class="line">          &quot;parameter&quot;: &#123;</span><br><span class="line">            &quot;encoding&quot;: &quot;UTF-8&quot;,</span><br><span class="line">            &quot;print&quot;: true</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;setting&quot;: &#123;</span><br><span class="line">      &quot;speed&quot;: &#123;</span><br><span class="line">        &quot;channel&quot;: 2</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>将 <code>json</code> 配置文件放到  datax的目录的 <code>job</code> 下，或者自定义路径。执行方法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$bin</span>/datax.py job/stream2stream.json</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;.....&gt;</span><br><span class="line"></span><br><span class="line">2021-08-26 11:06:09.217 [job-0] INFO  JobContainer - PerfTrace not <span class="built_in">enable</span>!</span><br><span class="line">2021-08-26 11:06:09.218 [job-0] INFO  StandAloneJobContainerCommunicator - Total 20 records, 380 bytes | Speed 38B/s, 2 records/s | Error 0 records, 0 bytes |  All Task WaitWriterTime 0.000s |  All Task WaitReaderTime 0.000s | Percentage 100.00%</span><br><span class="line">2021-08-26 11:06:09.223 [job-0] INFO  JobContainer -</span><br><span class="line">任务启动时刻                    : 2021-08-26 11:05:59</span><br><span class="line">任务结束时刻                    : 2021-08-26 11:06:09</span><br><span class="line">任务总计耗时                    :                 10s</span><br><span class="line">任务平均流量                    :               38B/s</span><br><span class="line">记录写入速度                    :              2rec/s</span><br><span class="line">读出记录总数                    :                  20</span><br><span class="line">读写失败总数                    :                   0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>DataX 任务执行结束都会有个简单的任务报告，关注一下里面 平均流量、写入速度和读写失败总数等。</p>
<p>DataX 的 <code>job</code> 的参数 <code>settings</code> 可以指定速度参数、错误记录容忍度等。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;setting&quot;: &#123;</span><br><span class="line">    &quot;speed&quot;: &#123;</span><br><span class="line">        &quot;channel&quot;: 10 </span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;errorLimit&quot;: &#123;</span><br><span class="line">        &quot;record&quot;: 10,</span><br><span class="line">        &quot;percentage&quot;: 0.1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <strong>特别说明：</strong></p>
<ul>
<li><code>speed</code> 还有个限速的设计（<code>bytes</code>)，但是有bug，大家就不要用了。  <code>errorLimit</code> 表示报错记录数的容忍度，超出这个限制后任务就中断退出。 </li>
<li><code>channel</code> 是并发数，理论上并发越大，迁移性能越好。实际也要考虑源端的读压力、网络传输性能以及目标端写入性能。</li>
</ul>
<p>下面是常用数据源（<code>mysql</code>、<code>oracle</code> 、<code>csv</code> 和 <code>oceanbase</code> ）的读写插件。</p>
<h2 id="reader-插件说明"><a href="#reader-插件说明" class="headerlink" title="reader 插件说明"></a><code>reader</code> 插件说明</h2><h3 id="txtfilereader-插件说明"><a href="#txtfilereader-插件说明" class="headerlink" title="txtfilereader 插件说明"></a><code>txtfilereader</code> 插件说明</h3><p><code>txtfilereader</code> 提供了读取本地文件系统数据存储的能力。在底层实现上，<code>txtfilereader</code> 获取本地文件数据，并转换为DataX传输协议传递给Writer。</p>
<p>本地文件内容存放的是一张逻辑意义上的二维表，例如CSV格式的文本信息。</p>
<p><code>txtfilereader</code> 有一些功能限制和参数，请首先阅读官方说明： <code>https://github.com/alibaba/DataX/blob/master/txtfilereader/doc/txtfilereader.md</code> 。</p>
<p>下面是 <code>txtfilereader</code> 的 示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;reader&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;txtfilereader&quot;,</span><br><span class="line">    &quot;parameter&quot;: &#123;</span><br><span class="line">        &quot;path&quot;: [&quot;/tmp/tpcc/bmsql_oorder&quot;],</span><br><span class="line">        &quot;encoding&quot;: &quot;UTF-8&quot;,</span><br><span class="line">        &quot;column&quot;: [&quot;*&quot;],</span><br><span class="line">        &quot;dateFormat&quot;: &quot;yyyy-MM-dd hh:mm:ss&quot; ,</span><br><span class="line">        &quot;nullFormat&quot;: &quot;\\N&quot; ,</span><br><span class="line">        &quot;fieldDelimiter&quot;: &quot;,&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>特别说明：</strong></p>
<ul>
<li><code>path</code> 指定到路径即可，<code>fileName</code> 会是生成的文件前缀，完整的文件名很长，有随机字符串（避免重复）。文件的数量可能是根据记录数来自动分的。</li>
<li><code>column</code> 可以指定为 “*” ，这样所有字段值都作为字符串了。这个虽然方便，但不能保证完全没有问题。目前测试常用数据类型是可以的。</li>
<li><code>nullFormat</code> 指定空值的记录，默认是”null”，这个读入oracle的时候会有问题。建议导出文件的时候指定为 “\N” 表示空值和。</li>
<li><code>fieldDelimiter</code> 指定 <code>csv</code> 文件的列分隔符，这个跟导出的时候指定的列分隔符保持一致。通常导出的列内容如果含有列分隔符时，会用双引号进行包含（<code>enclosed</code>）。用逗号（<code>,</code>）也可以，只是太过常见，建议用生僻一点的单字符。如 <code>|</code> 或 <code>^</code> 等。</li>
</ul>
<h3 id="mysqlreader插件说明"><a href="#mysqlreader插件说明" class="headerlink" title="mysqlreader插件说明"></a><code>mysqlreader</code>插件说明</h3><p>MysqlReader插件实现了从Mysql读取数据。在底层实现上，MysqlReader通过JDBC连接远程Mysql数据库，并执行相应的sql语句将数据从mysql库中SELECT出来。</p>
<p>不同于其他关系型数据库，MysqlReader 不支持 FetchSize.</p>
<p>实现原理方面，简而言之，MysqlReader通过JDBC连接器连接到远程的Mysql数据库，并根据用户配置的信息生成查询SELECT SQL语句，然后发送到远程Mysql数据库，并将该SQL执行返回结果使用DataX自定义的数据类型拼装为抽象的数据集，并传递给下游Writer处理。详细功能和参数说明请首先阅读官方说明：<code>https://github.com/alibaba/DataX/blob/master/mysqlreader/doc/mysqlreader.md</code> 。</p>
<p>下面是 <code>mysqlreader</code> 的配置示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&quot;reader&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;mysqlreader&quot;,</span><br><span class="line">    &quot;parameter&quot;: &#123;</span><br><span class="line">        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">        &quot;password&quot;: &quot;********&quot;,</span><br><span class="line">        &quot;column&quot;: [</span><br><span class="line">            &quot;*&quot;</span><br><span class="line">        ],                        </span><br><span class="line">        &quot;connection&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;table&quot;: [</span><br><span class="line">                    &quot;bmsql_oorder&quot;</span><br><span class="line">                ],</span><br><span class="line">                &quot;jdbcUrl&quot;: [&quot;jdbc:mysql://127.0.0.1:3306/tpccdb?useUnicode=true&amp;characterEncoding=utf8&quot;]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>特别说明：</strong></p>
<ul>
<li>如果表的主键是单列主键，比如说 <code>id</code>。那么可以在 <code>parameter</code> 下加一个配置： <code>&quot;splitPk&quot;: &quot;db_id&quot;, </code> 。如果是加在最后，就去掉后面的逗号(<code>,</code>)。</li>
<li> <code>column</code> 指定读取的列。通常建议写具体的列，可以在列上用函数做逻辑转换。用 <code>*</code> 就是要时刻确保列跟目标端写入的列能对应上。</li>
</ul>
<h3 id="oraclereader-插件说明"><a href="#oraclereader-插件说明" class="headerlink" title="oraclereader 插件说明"></a><code>oraclereader</code> 插件说明</h3><p>OracleReader插件实现了从Oracle读取数据。在底层实现上，OracleReader通过JDBC连接远程Oracle数据库，并执行相应的sql语句将数据从Oracle库中SELECT出来。</p>
<p>其原理也很简单，OracleReader通过JDBC连接器连接到远程的Oracle数据库，并根据用户配置的信息生成查询SELECT SQL语句并发送到远程Oracle数据库，并将该SQL执行返回结果使用DataX自定义的数据类型拼装为抽象的数据集，并传递给下游Writer处理。详细功能和参数说明请首先阅读官方说明：<code>https://github.com/alibaba/DataX/blob/master/oraclereader/doc/oraclereader.md</code> 。</p>
<p>下面是 <code>oraclereader</code> 的配置示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&quot;reader&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;oraclereader&quot;,</span><br><span class="line">    &quot;parameter&quot;: &#123;</span><br><span class="line">        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">        &quot;password&quot;: &quot;********&quot;,</span><br><span class="line">        &quot;column&quot;: [</span><br><span class="line">            &quot;*&quot;</span><br><span class="line">        ],                    </span><br><span class="line">        &quot;connection&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;table&quot;: [</span><br><span class="line">                    &quot;bmsql_oorder&quot;</span><br><span class="line">                ],</span><br><span class="line">                &quot;jdbcUrl&quot;: [ &quot;jdbc:oracle:thin:@172.17.0.5:1521:helowin&quot;]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>特别说明：</strong></p>
<ul>
<li>如果表的主键是单列主键，比如说 <code>id</code>。那么可以在 <code>parameter</code> 下加一个配置： <code>&quot;splitPk&quot;: &quot;db_id&quot;, </code> 。如果是加在最后，就去掉后面的逗号(<code>,</code>)。</li>
<li><code>column</code> 指定读取的列。通常建议写具体的列，可以在列上用函数做逻辑转换。用 <code>*</code> 就是要时刻确保列跟目标端写入的列能对应上。</li>
</ul>
<h3 id="oceanbasev10reader-插件说明"><a href="#oceanbasev10reader-插件说明" class="headerlink" title="oceanbasev10reader 插件说明"></a><code>oceanbasev10reader</code> 插件说明</h3><p>OceanbaseV10Reader插件实现了从 Oceanbase  读取数据。在底层实现上，该读取插件通过java client（jdbc）连接远程Oceanbase 1.0数据库，并执行相应的sql语句将数据从库中SELECT出来。</p>
<h4 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h4><p>简而言之，Oceanbasev10Reader通过java client连接器连接到远程的Oceanbase数据库，并根据用户配置的信息生成查询SELECT SQL语句，然后发送到远程Oceanbase 数据库，并将该SQL执行返回结果使用DataX自定义的数据类型拼装为抽象的数据集，并传递给下游Writer处理。<br>对于用户配置Table、Column、Where的信息，OceanbaseV10Reader将其拼接为SQL语句发送到Oceanbase 数据库；对于用户配置querySql信息，OceanbaseReader直接将其发送到Oceanbase 数据库。</p>
<p>下面是 <code>oceanbasev10reader</code> 的配置示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oceanbasev10reader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;where&quot;: &quot;&quot;,</span><br><span class="line">                        &quot;readBatchSize&quot;: 100000,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: [&quot;||_dsc_ob10_dsc_||obdemo:oboracle||_dsc_ob10_dsc_||jdbc:oceanbase://127.0.0.1:2883/tpcc&quot;],</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;:&quot;********&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>

<h4 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h4><p>供参考，以后可能会变化，请关注<code>DataX</code> 开源地址说明 （<code>https://github.com/alibaba/DataX/tree/master/oceanbasev10reader</code>）。</p>
<ul>
<li>jdbcUrl:<br>描述：连接ob使用的jdbc url，格式固定，注意此处为数组，应用中括号([])括起来<br>必选：是<br>默认值：无 </li>
<li><code>table</code>:<br>描述：所选取的需要同步的表。使用JSON的数组描述，因此支持多张表同时抽取。当配置为多张表时，用户自己需保证多张表是同一schema结构，OceanbaseReader不予检查表是否同一逻辑表。注意，table必须包含在connection配置单元中。<br>必选：是<br>默认值：无 </li>
<li><code>column</code>:<br>描述：所配置的表中需要同步的列名集合，使用JSON的数组描述字段信息。<br>支持列裁剪，即列可以挑选部分列进行导出。<br>支持列换序，即列可以不按照表schema信息进行导出，同时支持通配符*，在使用之前需仔细核对列信息。<br>必选：是<br>默认值：无 </li>
<li><code>where</code>:<br>描述：筛选条件，OceanbaseReader根据指定的column、table、where条件拼接SQL，并根据这个SQL进行数据抽取。在实际业务场景中，往往会选择当天的数据进行同步，可以将where条件指定为gmt_create &gt; $bizdate 。这里gmt_create不可以是索引字段，也不可以是联合索引的第一个字段。where条件可以有效地进行业务增量同步。如果不填写where语句，包括不提供where的key或者value，DataX均视作同步全量数据。<br>必选：否<br>默认值：无 </li>
<li><code>splitPk</code>:<br>描述：OBReader进行数据抽取时，如果指定splitPk，表示用户希望使用splitPk代表的字段进行数据分片，DataX因此会启动并发任务进行数据同步，这样可以大大提供数据同步的效能。<br>推荐splitPk用户使用表主键，因为表主键通常情况下比较均匀，因此切分出来的分片也不容易出现数据热点。<br>目前splitPk仅支持int数据切分，不支持其他类型。如果用户指定其他非支持类型将报错。<br>splitPk如果不填写，将视作用户不对单表进行切分，OBReader使用单通道同步全量数据。<br>必选：否<br>默认值：空 </li>
<li><code>querySql</code>:<br>描述：在有些业务场景下，where这一配置项不足以描述所筛选的条件，用户可以通过该配置型来自定义筛选SQL。当用户配置了这一项之后，DataX系统就会忽略table，column这些配置型，直接使用这个配置项的内容对数据进行筛选<br>当用户配置querySql时，OceanbaseReader直接忽略table、column、where条件的配置，querySql优先级大于table、column、where选项。<br>必选：否<br>默认值：无 </li>
<li><code>timeout</code>:<br>描述：sql执行的超时时间 单位分钟。目前默认被设置为 48h，所以用户不用设置。<br>必选：否<br>默认值：5 </li>
<li><code>username</code>:<br>描述：访问oceanbase1.0的用户名<br>必选：是<br>默认值：无 </li>
<li><code>** password**</code><br>描述：访问oceanbase1.0的密码<br>必选：是<br>默认值：无 </li>
<li><code>readByPartition</code><br>描述：对分区表是否按照分区切分任务<br>必选：否<br>默认值：fasle </li>
<li><code>readBatchSize</code><br>描述：一次读取的行数，如果遇到内存不足的情况，可将该值调小<br>必选：否<br>默认值：100000 </li>
</ul>
<h2 id="writer-插件说明"><a href="#writer-插件说明" class="headerlink" title="writer 插件说明"></a><code>writer</code> 插件说明</h2><h3 id="txtfilewriter-插件说明"><a href="#txtfilewriter-插件说明" class="headerlink" title="txtfilewriter 插件说明"></a><code>txtfilewriter</code> 插件说明</h3><p>TxtFileWriter提供了向本地文件写入类CSV格式的一个或者多个表文件。TxtFileWriter服务的用户主要在于DataX开发、测试同学。</p>
<p>写入本地文件内容存放的是一张逻辑意义上的二维表，例如CSV格式的文本信息。</p>
<p>详细功能和参数说明请首先阅读官方说明：<code>https://github.com/alibaba/DataX/blob/master/txtfilewriter/doc/txtfilewriter.md</code></p>
<p>下面是 <code>txtfilewriter</code> 的配置示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&quot;writer&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;txtfilewriter&quot;,</span><br><span class="line">    &quot;parameter&quot;: &#123;</span><br><span class="line">        &quot;path&quot;: &quot;/tmp/tpcc/bmsql_oorder&quot;,</span><br><span class="line">        &quot;fileName&quot;: &quot;bmsql_oorder&quot;,</span><br><span class="line">        &quot;encoding&quot;: &quot;UTF-8&quot;,</span><br><span class="line">        &quot;writeMode&quot;: &quot;truncate&quot;,</span><br><span class="line">        &quot;dateFormat&quot;: &quot;yyyy-MM-dd hh:mm:ss&quot; ,</span><br><span class="line">        &quot;nullFormat&quot;: &quot;\\N&quot; ,</span><br><span class="line">        &quot;fileFormat&quot;: &quot;csv&quot; ,</span><br><span class="line">        &quot;fieldDelimiter&quot;: &quot;,&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>特别说明：</strong></p>
<ul>
<li><code>fileFormat</code> 指定为 <code>csv</code> 。</li>
<li><code>fieldDelimiter</code> 指定字段分隔符，单字符，尽量使用内容里不会出现的分隔符。默认是逗号(<code>,</code>)，推荐用 <code>^</code>、<code>|</code> 等。当内容中出现分隔符的时候，该字段会使用双引号包含起来。<br>如下面就是字段值包含分隔符<code>,</code>的记录：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">32,300000,.1111,LCJgPD6U,<span class="string">&quot;pIScfm2oihf4KrC,1U&quot;</span>,kwmFinypFhN,ZJdxWAwUHhx,XI,754811111</span><br></pre></td></tr></table></figure></li>
<li><code>nullFormat</code> 指定空值的表现形式，默认是 “null” ，建议改为 “\N” 。<br>如下面就是空值记录：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3,1,2101,1015,\N,13,1,2021-08-25 10:50:56</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="mysqlwriter-插件说明"><a href="#mysqlwriter-插件说明" class="headerlink" title="mysqlwriter 插件说明"></a><code>mysqlwriter</code> 插件说明</h3><p>MysqlWriter 插件实现了写入数据到 Mysql 主库的目的表的功能。在底层实现上， MysqlWriter 通过 JDBC 连接远程 Mysql 数据库，并执行相应的 insert into … 或者 ( replace into …) 的 sql 语句将数据写入 Mysql，内部会分批次提交入库，需要数据库本身采用 innodb 引擎。</p>
<p>实现原理，MysqlWriter 通过 DataX 框架获取 Reader 生成的协议数据，根据你配置的 writeMode 生成</p>
<ul>
<li>insert into…(当主键/唯一性索引冲突时会写不进去冲突的行)<br>或者</li>
<li>replace into…(没有遇到主键/唯一性索引冲突时，与 insert into 行为一致，冲突时会用新行替换原有行所有字段) 的语句写入数据到 Mysql。出于性能考虑，采用了 PreparedStatement + Batch，并且设置了：rewriteBatchedStatements=true，将数据缓冲到线程上下文 Buffer 中，当 Buffer 累计到预定阈值时，才发起写入请求。</li>
</ul>
<p>详细功能和参数说明请首先阅读官方说明： <code>https://github.com/alibaba/DataX/blob/master/mysqlwriter/doc/mysqlwriter.md</code> </p>
<p>下面是 <code>mysqlwriter</code> 的 配置示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&quot;writer&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;mysqlwriter&quot;,</span><br><span class="line">    &quot;parameter&quot;: &#123;</span><br><span class="line">        &quot;writeMode&quot;: &quot;insert&quot;,</span><br><span class="line">        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">        &quot;password&quot;: &quot;123456&quot;,</span><br><span class="line">        &quot;column&quot;: [</span><br><span class="line">            &quot;*&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;session&quot;: [</span><br><span class="line">        	&quot;set session sql_mode=&#x27;ANSI&#x27;&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;preSql&quot;: [</span><br><span class="line">            &quot;truncate table bmsql_oorder&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;batchSize&quot;: 512,                        </span><br><span class="line">        &quot;connection&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;jdbcUrl&quot;: &quot;jdbc:mysql://127.0.0.1:3306/tpccdb?useUnicode=true&amp;characterEncoding=utf8&quot;,</span><br><span class="line">                &quot;table&quot;: [</span><br><span class="line">                    &quot;bmsql_oorder&quot;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>特别说明：</strong></p>
<ul>
<li><code>writeMode</code> ：有三种取值：<code>insert</code>、<code>replace</code>、<code>update</code> ，分别对应的 SQL 类型为 <code>insert into</code>、<code>replace into</code> 和  <code>on duplicate key update</code> 。</li>
<li><code>preSQL</code>: 是在任务开始的时候提前执行一次的SQL。通常是清空表数据。大表不要使用 <code>delete from @table</code> ，那个很慢。</li>
<li><code>batchSize</code> ： 时候一次性批量提交的记录数大小，该值可以极大减少DataX与Mysql的网络交互次数，并提升整体吞吐量。但是该值设置过大可能会造成DataX运行进程OOM情况。</li>
</ul>
<h3 id="oraclewriter-插件说明"><a href="#oraclewriter-插件说明" class="headerlink" title="oraclewriter 插件说明"></a><code>oraclewriter</code> 插件说明</h3><p>OracleWriter 插件实现了写入数据到 Oracle 主库的目的表的功能。在底层实现上， OracleWriter 通过 JDBC 连接远程 Oracle 数据库，并执行相应的 insert into … sql 语句将数据写入 Oracle，内部会分批次提交入库。</p>
<p>实现原理，OracleWriter 通过 DataX 框架获取 Reader 生成的协议数据，根据你配置生成相应的SQL语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span>...(当主键<span class="operator">/</span>唯一性索引冲突时会写不进去冲突的行)</span><br></pre></td></tr></table></figure>

<p>详细功能和参数说明请首先阅读官方说明：<code>https://github.com/alibaba/DataX/blob/master/oraclewriter/doc/oraclewriter.md</code> 。</p>
<p>下面是 <code>oraclewriter</code> 的配置示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&quot;writer&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;oraclewriter&quot;,</span><br><span class="line">    &quot;parameter&quot;: &#123;</span><br><span class="line">        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">        &quot;password&quot;: &quot;********&quot;,</span><br><span class="line">        &quot;column&quot;: [</span><br><span class="line">            &quot;*&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;preSql&quot;: [</span><br><span class="line">            &quot;truncate table bmsql_oorder&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;batchSize&quot;: 512,</span><br><span class="line">        &quot;connection&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;jdbcUrl&quot;: &quot;jdbc:oracle:thin:@127.0.0.1:1521:helowin&quot;,</span><br><span class="line">                &quot;table&quot;: [</span><br><span class="line">                    &quot;bmsql_oorder&quot;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>特别说明：</strong></p>
<ul>
<li><code>OracleWriter</code> 和 <code>MysqlWriter</code> 不同，不支持配置writeMode参数。</li>
<li><code>preSQL</code>: 是在任务开始的时候提前执行一次的SQL。通常是清空表数据。大表不要使用 <code>delete from @table</code> ，那个很慢。</li>
<li><code>batchSize</code> ： 时候一次性批量提交的记录数大小，该值可以极大减少DataX与Mysql的网络交互次数，并提升整体吞吐量。但是该值设置过大可能会造成DataX运行进程OOM情况。</li>
</ul>
<h3 id="oceanbasev10writer-插件说明"><a href="#oceanbasev10writer-插件说明" class="headerlink" title="oceanbasev10writer 插件说明"></a><code>oceanbasev10writer</code> 插件说明</h3><p><code>oceanbasev10writer</code> 插件实现了写入数据到 OceanBase  主库的目的表的功能。在底层实现上， OceanbaseV10Writer 通过 java客户端(底层MySQL JDBC或oceanbase client) 连接obproxy 远程 OceanBase 数据库，并执行相应的 insert sql 语句将数据写入 OceanBase ，内部会分批次提交入库。</p>
<h4 id="实现原理-1"><a href="#实现原理-1" class="headerlink" title="实现原理"></a>实现原理</h4><p>Oceanbasev10Writer 通过 DataX 框架获取 Reader 生成的协议数据，生成 insert 语句。对于mysql 租户，在主键或唯一键冲突时，可以选择 <code>replace</code> 模式，更新表中的所有字段。对于oracle 租户，目前只有 insert 行为。 出于性能考虑，写入采用 batch 方式批量写，当行数累计到预定阈值时，才发起写入请求。</p>
<p>下面是 <code>oceanbasev10writer</code> 的配置示例。 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&quot;writer&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;oceanbasev10writer&quot;,</span><br><span class="line">    &quot;parameter&quot;: &#123;</span><br><span class="line">        &quot;obWriteMode&quot;: &quot;insert&quot;,</span><br><span class="line">        &quot;column&quot;: [</span><br><span class="line">            &quot;*&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;preSql&quot;: [</span><br><span class="line">            &quot;truncate table bmsql_oorder&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;connection&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;jdbcUrl&quot;: &quot;||_dsc_ob10_dsc_||obdemo:oboracle||_dsc_ob10_dsc_||jdbc:oceanbase://127.0.0.1:2883/tpcc?useLocalSessionState=true&amp;allowBatch=true&amp;allowMultiQueries=true&amp;rewriteBatchedStatements=true&quot;,</span><br><span class="line">                &quot;table&quot;: [</span><br><span class="line">                    &quot;bmsql_oorder&quot;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">        &quot;password&quot;:&quot;********&quot;,</span><br><span class="line">        &quot;batchSize&quot;: 512,</span><br><span class="line">        &quot;writerThreadCount&quot;:10,</span><br><span class="line">        &quot;memstoreThreshold&quot;: &quot;0.9&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="参数说明-1"><a href="#参数说明-1" class="headerlink" title="参数说明"></a>参数说明</h4><p>供参考，以后可能会变化，请关注<code>DataX</code> 开源地址说明 （<code>https://github.com/alibaba/DataX/tree/master/oceanbasev10writer</code>）。</p>
<ul>
<li><code>jdbcUrl</code> :<br>描述：目的数据库的连接信息,包含了ob的集群、租户、obproxy的地址和端口以及库名；使用域名可能会报错，建议使用 <code>ip</code> 。<br>必选：是<br>默认值：无</li>
<li><code>table</code>:<br>描述：目的表的表名称。支持写入一个或者多个表。当配置为多张表时，必须确保所有表结构保持一致；表名中一般不含库名；<br>必选：是<br>默认值：无</li>
<li><code>column</code>:<br>描述：目的表需要写入数据的字段,字段之间用英文逗号分隔。例如: “column”: [“id”,”name”,”age”]。</li>
</ul>
<p> <strong>column配置项必须指定，不能留空！</strong><br>必选：是<br>默认值：否</p>
<ul>
<li><code>preSql</code>:<br>描述：写入数据到目的表前，会先执行这里的标准语句。如果 Sql 中有你需要操作到的表名称，请使用 @table 表示，这样在实际执行 Sql 语句时，会对变量按照实际表名称进行替换。比如你的任务是要写入到目的端的100个同构分表(表名称为:datax_00,datax01, … datax_98,datax_99)，并且你希望导入数据前，先对表中数据进行删除操作，那么你可以这样配置：”preSql”:[“delete from @table”]，效果是：在执行到每个表写入数据前，会先执行对应的 delete from 对应表名称.只支持delete语句<br>必选：否<br>默认值：无</li>
<li><code>batchSize</code>:<br>描述：一次性批量提交的记录数大小，该值可以极大减少DataX与Oceanbase的网络交互次数，并提升整体吞吐量。但是该值设置过大可能会造成DataX运行进程OOM情况。<br>必选：否<br>默认值：1000</li>
<li><code>memstoreThreshold</code>:<br>描述：OB租户的memstore使用率，当达到这个阀值的时候暂停导入,等释放内存后继续导入. 防止租户内存溢出。<br>必选：否<br>默认值：0.9</li>
<li><code>username</code>:<br>描述：访问oceanbase1.0的用户名，注意，此处不配置ob的集群名和租户名。<br>必选：是<br>默认值：无</li>
<li><code>** password**</code><br>描述：访问oceanbase1.0的密码<br>必选：是<br>默认值：无</li>
<li><code>writerThreadCount</code>:<br>描述：每个通道（channel）中写入使用的线程数<br>必选：否<br>默认值：1</li>
</ul>
<h2 id="DataX-的调优建议"><a href="#DataX-的调优建议" class="headerlink" title="DataX 的调优建议"></a>DataX 的调优建议</h2><p>DataX 本质上是个数据交换平台，将源端的数据读出，写入到目标端。其数据迁移性能取决于下面几个因素：</p>
<ul>
<li>源端的读性能。可以加并发，制约条件就是对源库的影响、源库的性能瓶颈等。</li>
<li>DataX 自身的性能。DataX 是个Java程序，其能起的线程数也是有限，受限于所在主机的CPU和内存大小。</li>
<li>网络传输性能。并发高的时候，网络传输要留意吞吐量是否达到网卡瓶颈。现在万兆网卡的吞吐量 10000Mb，很难达到。不过占用网络带宽对其他业务可能也会有影响。</li>
<li>目标端的写入性能。也可以加并发，制约条件就是目标库写入性能瓶颈、对目标库的影响等。如果目标端是OB，需要针对OB调优。</li>
<li>涉及到文件数据源的时候，关注文件所在磁盘 IO 性能。如 iops、吞吐量等。</li>
</ul>
<p>所以 DataX 的调优就是调节 <code>reader</code> 和 <code>writer</code> 的各个并行参数，尽可能的把 源和目标端数据库资源能力都利用上，那么整体 DataX 的迁移效率会最好。</p>
<p>此外，如果主机内存够大的话， <code>datax.py</code> 能使用的 JVM 内存也可以调大。编辑脚本，调大 <code>-Xms</code> 和 <code>-Xmx</code> 参数。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim bin/datax.py</span><br><span class="line"></span><br><span class="line"> 30 DEFAULT_JVM = <span class="string">&quot;-Xms16g -Xmx16g -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=%s/log&quot;</span> % (DATAX_HOME)</span><br></pre></td></tr></table></figure>

<h3 id="主机资源监控-tsar"><a href="#主机资源监控-tsar" class="headerlink" title="主机资源监控 tsar"></a>主机资源监控 <code>tsar</code></h3><p><code>tsar</code> 是阿里巴巴开源的主机性能监控工具，非常轻量和实用，阿里内部服务器标配。开源地址：<code>https://github.com/alibaba/tsar/</code> 。</p>
<p>常用用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$tsar</span> --cpu --load --traffic --io -I sdb -l -i 3</span><br><span class="line">Time              -----------------------cpu---------------------- ---------------------traffic-------------------- ------------------------------------------sdb-------------------------------------------  -------------------load-----------------</span><br><span class="line">Time                user     sys    <span class="built_in">wait</span>    hirq    sirq    util    bytin  bytout   pktin  pktout  pkterr  pktdrp    rrqms   wrqms      rs      ws   rsecs   wsecs  rqsize  qusize   await   svctm    util     load1   load5  load15    runq    plit</span><br><span class="line">26/08/21-16:15:15  27.84    7.08    0.03    0.00    0.01   34.93   632.00    2.1K    9.00    7.00    0.00    0.00     0.00   33.33    2.00  100.00   40.00  561.33    5.90    0.00    0.06    0.04    0.40     15.69   14.30   14.05   27.00    3.9K</span><br><span class="line">26/08/21-16:15:18  26.69    7.21    0.07    0.00    0.03   33.92     1.0K    6.3K   13.00   15.00    0.00    0.00     0.00   38.67    2.00  139.33   40.00   10.4K   75.70    0.00    1.42    0.05    0.73     15.69   14.30   14.05    6.00    3.9K</span><br><span class="line">26/08/21-16:15:21  29.51    7.44    0.03    0.00    0.01   36.96     1.0K    5.7K   12.00   13.00    0.00    0.00     0.00   33.33    2.00  100.33   40.00  562.67    5.89    0.00    0.05    0.04    0.43     15.63   14.31   14.05   30.00    3.9K</span><br><span class="line">26/08/21-16:15:24  26.33    7.34    0.03    0.00    0.01   33.68   720.00    1.4K    9.00    6.00    0.00    0.00     0.00   29.67    2.00   88.67   40.00  501.33    5.97    0.00    0.04    0.03    0.27     15.02   14.21   14.02   22.00    3.9K</span><br><span class="line">^C</span><br><span class="line"></span><br><span class="line"><span class="variable">$tsar</span> -l -i 3</span><br><span class="line">Time              ---cpu-- ---mem-- ---tcp-- -----traffic---- --sda--- --sdb---  ---load-</span><br><span class="line">Time                util     util   retran    bytin  bytout     util     util     load1</span><br><span class="line">26/08/21-16:15:32  35.66    29.92     0.21     1.0K    6.5K     1.73     0.43     15.98</span><br><span class="line">26/08/21-16:15:35  34.02    29.92     0.00     1.5K    5.3K     1.40     0.40     15.18</span><br><span class="line">26/08/21-16:15:38  34.84    29.92     0.00     1.1K    5.8K     2.73     0.93     15.18</span><br><span class="line">^C</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="读写并行度"><a href="#读写并行度" class="headerlink" title="读写并行度"></a>读写并行度</h3><p>DataX 的配置文件中首先有 <code>speed</code> 的设置，其中 <code>channel</code> 是总的并发数。<br>OB 的 <code>oceanbasev10writer</code> 还进一步支持 多线程，通过参数 <code>&quot;writerThreadCount&quot;:10</code> 指定每个 channel 从源端读取的数据，再分几个并发线程写入。所以OB总的写入并发数是  <code>channel</code> * <code>writerThreadCount</code> 。</p>
<p>每个 <code>writer</code> 里还有个 batchsize，那个是一个事务的记录数数量。通常建议 200-10000 都可以。尽量不要超过 1万。事务太大了，不是很好。在 OB 里事务太大太长，可能会到达事务超时时间（默认120秒）。<br>这里有趣的是，OB 的 <code>oceanbasev10writer</code> 会把这个batch insert 合并为 一个 insert 多个values 子句。所以 <code>batchSize</code> 也不要太大；否则，insert sql 文本太长, 高并发时也可能会报错（内存不足方面的错误）。当列非常多的时候（比如说100 列） 或者 值的内容有大文本的时候，这个 <code>batchSize</code> 控制在 几百左右比较好。</p>
<h3 id="源端数据库读优化"><a href="#源端数据库读优化" class="headerlink" title="源端数据库读优化"></a>源端数据库读优化</h3><p>当源端是数据库的时候，如果表有单列主键，并且主键列类型的 数值型 （如 number、bigint、integer、decimal 等），可以在源端 <code>reader</code> 里增加配置 ： <code>&quot;splitPk&quot;: &quot;id&quot; </code> 。这个时候，DataX 能先对主键进行切片，然后多个 channel 同时并发分段去读取源数据。 如果没有这个设置，那源端只能单并发读取数据。</p>
<h3 id="OB写入的内存调优"><a href="#OB写入的内存调优" class="headerlink" title="OB写入的内存调优"></a>OB写入的内存调优</h3><p>OB 的数据读写模型比较特殊，增量都在内存里。当 OB 机器已经是 SSD 盘的时候， IO 不大可能会首先成为 OB 的性能瓶颈，内存和 CPU 更有可能先是瓶颈。大量数据写入的时候，增量对 memtable 内存的消耗会很快。OB 设置不当的情况下，可能会出现内存耗尽，从而写入报错。其他业务写入也会跟着报错。</p>
<p>OB 的内存优化过程比较复杂。这里先给出一个初始的设置，能降低内存写入报错的概率。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> merge_thread_count <span class="operator">=</span> <span class="number">32</span>;  <span class="comment">--  增大合并的线程数。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> minor_merge_concurrency <span class="operator">=</span> <span class="number">16</span>;  <span class="comment">--  增大转储的线程数，期望提高转储的速度。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> _mini_merge_concurrency <span class="operator">=</span> <span class="number">8</span>;  <span class="comment">--  增大mini_merge的线程数，期望提高mini_merge的速度（默认值为3）。调大为8以后，发现会导致压测中CPU使用率有时飙升至90%，对性能有影响。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> memory_limit_percentage <span class="operator">=</span> <span class="number">90</span>;    <span class="comment">--  OB占系统总内存的比例，提高OB可用的内存量。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> memstore_limit_percentage <span class="operator">=</span> <span class="number">55</span>;  <span class="comment">--  memstore占租户的内存比，尽量增大memstore的空间（但是可能对读操作有负面影响）。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> freeze_trigger_percentage <span class="operator">=</span> <span class="number">40</span>;  <span class="comment">--  启动major/minor freeze的时机，让转储（minor freeze）尽早启动，memstore内存尽早释放。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> minor_freeze_times <span class="operator">=</span> <span class="number">100</span>;        <span class="comment">--  minor freeze的次数，尽量不在测试期间触发major freeze。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> minor_warm_up_duration_time <span class="operator">=</span> <span class="number">0</span>;  <span class="comment">--  加快minor freeze</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>OB 的 <code>oceanbasev10writer</code> 插件也提供参数 <code>memstoreThreshold</code> 监测增量内存的利用率，如果到达这个阈值，DataX 自动降速。</p>
<p>OB 的增量内存使用也可以监控，关键 SQL 是：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> tenant_id, ip, round(active<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>) active_gb, round(total<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>) total_gb, round(freeze_trigger<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>) freeze_trg_gb, round(mem_limit<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>) mem_limit_gb</span><br><span class="line">    , freeze_cnt , round((active<span class="operator">/</span>freeze_trigger),<span class="number">2</span>) freeze_pct, round(total<span class="operator">/</span>mem_limit, <span class="number">2</span>) mem_usage</span><br><span class="line"><span class="keyword">FROM</span> `gv$memstore`</span><br><span class="line"><span class="keyword">WHERE</span> tenant_id <span class="operator">=</span><span class="number">1001</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> tenant_id, ip;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>OB 的监控产品里也能监控增量内存的变化。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="示例1-：MySQL-数据导出到-CSV-文件"><a href="#示例1-：MySQL-数据导出到-CSV-文件" class="headerlink" title="示例1 ：MySQL 数据导出到 CSV 文件"></a>示例1 ：MySQL 数据导出到 <code>CSV</code> 文件</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">$cat job/bmsql_oorder_mysql2csv.json</span><br><span class="line">&#123;</span><br><span class="line">    &quot;job&quot;: &#123;</span><br><span class="line">        &quot;setting&quot;: &#123;</span><br><span class="line">            &quot;speed&quot;: &#123;</span><br><span class="line">                &quot;channel&quot;: 4</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;errorLimit&quot;: &#123;</span><br><span class="line">                &quot;record&quot;: 0,</span><br><span class="line">                &quot;percentage&quot;: 0.1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;content&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;mysqlreader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;: &quot;********&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ],</span><br><span class="line">                                &quot;jdbcUrl&quot;: [&quot;jdbc:mysql://127.0.0.1:3306/tpccdb?useUnicode=true&amp;characterEncoding=utf8&quot;]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;writer&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;txtfilewriter&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;path&quot;: &quot;/tmp/tpcc/bmsql_oorder&quot;,</span><br><span class="line">                        &quot;fileName&quot;: &quot;bmsql_oorder&quot;,</span><br><span class="line">                        &quot;encoding&quot;: &quot;UTF-8&quot;,</span><br><span class="line">                        &quot;writeMode&quot;: &quot;truncate&quot;,</span><br><span class="line">                        &quot;dateFormat&quot;: &quot;yyyy-MM-dd hh:mm:ss&quot; ,</span><br><span class="line">                        &quot;nullFormat&quot;: &quot;\\N&quot; ,</span><br><span class="line">                        &quot;fileFormat&quot;: &quot;csv&quot; ,</span><br><span class="line">                        &quot;fieldDelimiter&quot;: &quot;,&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="示例2-CSV-文件导入到-OceanBase"><a href="#示例2-CSV-文件导入到-OceanBase" class="headerlink" title="示例2:  CSV 文件导入到 OceanBase"></a>示例2:  <code>CSV</code> 文件导入到 OceanBase</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">$cat job/bmsql_oorder_csv2ob.json</span><br><span class="line">&#123;</span><br><span class="line">    &quot;job&quot;: &#123;</span><br><span class="line">        &quot;setting&quot;: &#123;</span><br><span class="line">            &quot;speed&quot;: &#123;</span><br><span class="line">                &quot;channel&quot;: 4</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;errorLimit&quot;: &#123;</span><br><span class="line">                &quot;record&quot;: 0,</span><br><span class="line">                &quot;percentage&quot;: 0.1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;content&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;txtfilereader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;path&quot;: [&quot;/tmp/tpcc/bmsql_oorder&quot;],</span><br><span class="line">                        &quot;encoding&quot;: &quot;UTF-8&quot;,</span><br><span class="line">                        &quot;column&quot;: [&quot;*&quot;],</span><br><span class="line">                        &quot;dateFormat&quot;: &quot;yyyy-MM-dd hh:mm:ss&quot; ,</span><br><span class="line">                        &quot;nullFormat&quot;: &quot;\\N&quot; ,</span><br><span class="line">                        &quot;fieldDelimiter&quot;: &quot;,&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;writer&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oceanbasev10writer&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;obWriteMode&quot;: &quot;insert&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;preSql&quot;: [</span><br><span class="line">                            &quot;truncate table bmsql_oorder&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: &quot;||_dsc_ob10_dsc_||obdemo:oboracle||_dsc_ob10_dsc_||jdbc:oceanbase://127.0.0.1:2883/tpcc?useLocalSessionState=true&amp;allowBatch=true&amp;allowMultiQueries=true&amp;rewriteBatchedStatements=true&quot;,</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;:&quot;********&quot;,</span><br><span class="line">                        &quot;writerThreadCount&quot;:10,</span><br><span class="line">                        &quot;batchSize&quot;: 1000,</span><br><span class="line">                        &quot;memstoreThreshold&quot;: &quot;0.9&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="示例3：ORACLE-数据同步到-CSV-文件"><a href="#示例3：ORACLE-数据同步到-CSV-文件" class="headerlink" title="示例3：ORACLE 数据同步到 CSV 文件"></a>示例3：ORACLE 数据同步到 <code>CSV</code> 文件</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;job&quot;: &#123;</span><br><span class="line">        &quot;setting&quot;: &#123;</span><br><span class="line">            &quot;speed&quot;: &#123;</span><br><span class="line">                &quot;channel&quot;: 4 </span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;errorLimit&quot;: &#123;</span><br><span class="line">                &quot;record&quot;: 0,</span><br><span class="line">                &quot;percentage&quot;: 0.1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;content&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oraclereader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;: &quot;********&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],                    </span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ],</span><br><span class="line">                                &quot;jdbcUrl&quot;: [ &quot;jdbc:oracle:thin:@172.17.0.5:1521:helowin&quot;]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]                    </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;writer&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;txtfilewriter&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;path&quot;: &quot;/tmp/tpcc/bmsql_oorder&quot;,</span><br><span class="line">                        &quot;fileName&quot;: &quot;bmsql_oorder&quot;,</span><br><span class="line">                        &quot;encoding&quot;: &quot;UTF-8&quot;,</span><br><span class="line">                        &quot;writeMode&quot;: &quot;truncate&quot;,</span><br><span class="line">                        &quot;dateFormat&quot;: &quot;yyyy-MM-dd hh:mm:ss&quot; ,</span><br><span class="line">                        &quot;nullFormat&quot;: &quot;\\N&quot; ,</span><br><span class="line">                        &quot;fileFormat&quot;: &quot;csv&quot; ,</span><br><span class="line">                        &quot;fieldDelimiter&quot;: &quot;,&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="示例4：OB-数据同步到-MySQL"><a href="#示例4：OB-数据同步到-MySQL" class="headerlink" title="示例4：OB 数据同步到 MySQL"></a>示例4：OB 数据同步到 MySQL</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;job&quot;: &#123;</span><br><span class="line">        &quot;setting&quot;: &#123;</span><br><span class="line">            &quot;speed&quot;: &#123;</span><br><span class="line">                &quot;channel&quot;: 16 </span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;errorLimit&quot;: &#123;</span><br><span class="line">                &quot;record&quot;: 0,</span><br><span class="line">                &quot;percentage&quot;: 0.1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;content&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oceanbasev10reader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;where&quot;: &quot;&quot;,</span><br><span class="line">                        &quot;readBatchSize&quot;: 10000,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: [&quot;||_dsc_ob10_dsc_||obdemo:oboracle||_dsc_ob10_dsc_||jdbc:oceanbase://127.0.0.1:2883/tpcc&quot;],</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;:&quot;********&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;writer&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;mysqlwriter&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;writeMode&quot;: &quot;replace&quot;,</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;: &quot;123456&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;session&quot;: [</span><br><span class="line">                        	&quot;set session sql_mode=&#x27;ANSI&#x27;&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;preSql&quot;: [</span><br><span class="line">                            &quot;truncate table bmsql_oorder&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;batchSize&quot;: 512,</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: &quot;jdbc:mysql://127.0.0.1:3306/tpccdb?useUnicode=true&amp;characterEncoding=utf8&quot;,</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;    </span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="示例5：OB-数据同步到-ORACLE"><a href="#示例5：OB-数据同步到-ORACLE" class="headerlink" title="示例5：OB 数据同步到 ORACLE"></a>示例5：OB 数据同步到 ORACLE</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;job&quot;: &#123;</span><br><span class="line">        &quot;setting&quot;: &#123;</span><br><span class="line">            &quot;speed&quot;: &#123;</span><br><span class="line">                &quot;channel&quot;: 16 </span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;errorLimit&quot;: &#123;</span><br><span class="line">                &quot;record&quot;: 0,</span><br><span class="line">                &quot;percentage&quot;: 0.1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;content&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oceanbasev10reader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;where&quot;: &quot;&quot;,</span><br><span class="line">                        &quot;readBatchSize&quot;: 10000,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: [&quot;||_dsc_ob10_dsc_||obdemo:oboracle||_dsc_ob10_dsc_||jdbc:oceanbase://127.0.0.1:2883/tpcc&quot;],</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;:&quot;********&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;writer&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oraclewriter&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;: &quot;********&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;preSql&quot;: [</span><br><span class="line">                            &quot;truncate table bmsql_oorder&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;batchSize&quot;: 512,</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: &quot;jdbc:oracle:thin:@127.0.0.1:1521:helowin&quot;,</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;    </span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="示例6：ORACLE-数据同步到-OB"><a href="#示例6：ORACLE-数据同步到-OB" class="headerlink" title="示例6：ORACLE 数据同步到 OB"></a>示例6：ORACLE 数据同步到 OB</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;job&quot;: &#123;</span><br><span class="line">        &quot;setting&quot;: &#123;</span><br><span class="line">            &quot;speed&quot;: &#123;</span><br><span class="line">                &quot;channel&quot;: 4 </span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;errorLimit&quot;: &#123;</span><br><span class="line">                &quot;record&quot;: 0,</span><br><span class="line">                &quot;percentage&quot;: 0.1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;content&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oraclereader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;: &quot;********&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],                    </span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ],</span><br><span class="line">                                &quot;jdbcUrl&quot;: [ &quot;jdbc:oracle:thin:@172.17.0.5:1521:helowin&quot;]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]                    </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;writer&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oceanbasev10writer&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;obWriteMode&quot;: &quot;insert&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;*&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;preSql&quot;: [</span><br><span class="line">                            &quot;truncate table bmsql_oorder&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: &quot;||_dsc_ob10_dsc_||obdemo:oboracle||_dsc_ob10_dsc_||jdbc:oceanbase://127.0.0.1:2883/tpcc?useLocalSessionState=true&amp;allowBatch=true&amp;allowMultiQueries=true&amp;rewriteBatchedStatements=true&quot;,</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;bmsql_oorder&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;username&quot;: &quot;tpcc&quot;,</span><br><span class="line">                        &quot;password&quot;:&quot;********&quot;,</span><br><span class="line">                        &quot;writerThreadCount&quot;:10,</span><br><span class="line">                        &quot;batchSize&quot;: 1000,</span><br><span class="line">                        &quot;memstoreThreshold&quot;: &quot;0.9&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="示例7：DB2-数据同步到-OB"><a href="#示例7：DB2-数据同步到-OB" class="headerlink" title="示例7：DB2 数据同步到 OB"></a>示例7：DB2 数据同步到 OB</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;job&quot;: &#123;</span><br><span class="line">        &quot;setting&quot;: &#123;</span><br><span class="line">            &quot;speed&quot;: &#123;</span><br><span class="line">                &quot;channel&quot;: 8,</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;errorLimit&quot;: &#123;</span><br><span class="line">                &quot;record&quot;: 0</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;content&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;reader&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;db2reader&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;username&quot;: &quot;db2inst1&quot;,</span><br><span class="line">                        &quot;password&quot;: &quot;db2inst1&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;c1&quot;,</span><br><span class="line">                            &quot;c2&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: [</span><br><span class="line">                                    &quot;jdbc:db2://127.0.0.1:50000/testdb:currentSchema=JXXD;&quot;</span><br><span class="line">                                ],</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;blob_test&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &quot;writer&quot;: &#123;</span><br><span class="line">                    &quot;name&quot;: &quot;oceanbasev10writer&quot;,</span><br><span class="line">                    &quot;parameter&quot;: &#123;</span><br><span class="line">                        &quot;writeMode&quot;: &quot;insert&quot;,</span><br><span class="line">                        &quot;username&quot;: &quot;jxxd&quot;,</span><br><span class="line">                        &quot;password&quot;: &quot;123456&quot;,</span><br><span class="line">                        &quot;column&quot;: [</span><br><span class="line">                            &quot;c1&quot;,</span><br><span class="line">                            &quot;c2&quot;</span><br><span class="line">                        ],</span><br><span class="line">                        &quot;connection&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;jdbcUrl&quot;: &quot;||_dsc_ob10_dsc_||obdemo:oboracle||_dsc_ob10_dsc_||jdbc:mysql://127.0.0.1:2883/jxxd&quot;,</span><br><span class="line">                                &quot;table&quot;: [</span><br><span class="line">                                    &quot;blob_test&quot;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="followme">
  <span>Welcome to my other publishing channels</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="/images/0.5.jpg">
          <span class="icon">
            <i class="fab fa-weixin"></i>
          </span>

          <span class="label">WeChat</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/OCEANBASE/" rel="tag"># OCEANBASE</a>
              <a href="/tags/DATAX/" rel="tag"># DATAX</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/55457/" rel="prev" title="DB2 迁移 OceanBase 实践总结">
                  <i class="fa fa-chevron-left"></i> DB2 迁移 OceanBase 实践总结
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/32080/" rel="next" title="OceanBase 部署架构实践总结">
                  OceanBase 部署架构实践总结 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC81NDE2OC8zMDY0MA=="></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">obpilot</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Symbols count total">83k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">1:15</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<script src="/js/third-party/comments/livere.js"></script>

</body>
</html>
